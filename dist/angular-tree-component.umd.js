!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("mobx-angular"),require("mobx")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","mobx-angular","mobx"],t):t(e["angular-tree-component"]=e["angular-tree-component"]||{},e._angular_core,e._angular_common,e.mobxAngular,e.mobx)}(this,function(e,t,n,o,r){"use strict";function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e){return e}function s(e,t,n){return t=Nn(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,i=Nn(o.length-t,0),a=Array(i);++r<i;)a[r]=o[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=o[r];return s[t]=n(a),On(e,this,s)}}function c(e){return function(){return e}}function d(e,t){return t={exports:{}},e(t,t.exports),t.exports}function p(e){var t=Ln.call(e,Vn),n=e[Vn];try{e[Vn]=void 0;var o=!0}catch(e){}var r=kn.call(e);return o&&(t?e[Vn]=n:delete e[Vn]),r}function l(e){return $n.call(e)}function u(e){return null==e?void 0===e?Yn:qn:Kn&&Kn in Object(e)?Gn(e):Wn(e)}function f(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function h(e){if(!Qn(e))return!1;var t=Jn(e);return t==to||t==no||t==eo||t==oo}function y(e){return!!po&&po in e}function g(e){if(null!=e){try{return fo.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function v(e){return!(!vo(e)||go(e))&&(yo(e)?_o:jo).test(bo(e))}function b(e,t){return null==e?void 0:e[t]}function m(e,t){var n=Ao(e,t);return Io(n)?n:void 0}function j(e){var t=0,n=0;return function(){var o=Bo(),r=Ho-(o-n);if(n=o,r>0){if(++t>=Vo)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function O(e,t){return Ko(Yo(e,t,qo),e+"")}function N(){this.__data__=[],this.size=0}function E(e,t){return e===t||e!==e&&t!==t}function w(e,t){for(var n=e.length;n--;)if(Qo(e[n][0],t))return n;return-1}function _(e){var t=this.__data__,n=tr(t,e);return!(n<0)&&(n==t.length-1?t.pop():or.call(t,n,1),--this.size,!0)}function D(e){var t=this.__data__,n=ir(t,e);return n<0?void 0:t[n][1]}function x(e){return sr(this.__data__,e)>-1}function I(e,t){var n=this.__data__,o=dr(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function C(){this.__data__=new vr,this.size=0}function R(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function P(e){return this.__data__.get(e)}function S(e){return this.__data__.has(e)}function F(){this.__data__=Ar?Ar(null):{},this.size=0}function T(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function M(e){var t=this.__data__;if(Pr){var n=t[e];return n===Sr?void 0:n}return Tr.call(t,e)?t[e]:void 0}function L(e){var t=this.__data__;return Lr?void 0!==t[e]:Vr.call(t,e)}function k(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Br&&void 0===t?$r:t,this}function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function H(){this.size=0,this.__data__={hash:new Xr,map:new(Jr||Zr),string:new Xr}}function B(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function $(e,t){var n=e.__data__;return ti(t)?n["string"==typeof t?"string":"hash"]:n.map}function z(e){var t=oi(this,e).delete(e);return this.size-=t?1:0,t}function U(e){return ii(this,e).get(e)}function G(e){return si(this,e).has(e)}function W(e,t){var n=di(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Y(e,t){var n=this.__data__;if(n instanceof vi){var o=n.__data__;if(!bi||o.length<ji-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new mi(o)}return n.set(e,t),this.size=n.size,this}function K(e){var t=this.__data__=new Ni(e);this.size=t.size}function X(e,t,n){"__proto__"==t&&Ai?Ai(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Z(e,t,n){(void 0===n||Pi(e[t],n))&&(void 0!==n||t in e)||Ri(e,t,n)}function J(e){return function(t,n,o){for(var r=-1,i=Object(t),a=o(t),s=a.length;s--;){var c=a[e?s:++r];if(!1===n(i[c],c,i))break}return t}}function Q(e){var t=new e.constructor(e.byteLength);return new $i(t).set(new $i(e)),t}function ee(e,t){var n=t?Ui(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function te(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}function ne(e,t){return function(n){return e(t(n))}}function oe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ta)}function re(e){return"function"!=typeof e.constructor||ia(e)?{}:oa(ra(e))}function ie(e){return null!=e&&"object"==typeof e}function ae(e){return da(e)&&ca(e)==pa}function se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Oa}function ce(e){return null!=e&&wa(e.length)&&!Ea(e)}function de(e){return xa(e)&&Da(e)}function pe(){return!1}function le(e){if(!Sa(e)||Ra(e)!=Fa)return!1;var t=Pa(e);if(null===t)return!0;var n=ka.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&La.call(n)==Va}function ue(e){return za(e)&&$a(e.length)&&!!Ua[Ba(e)]}function fe(e){return function(t){return e(t)}}function he(e,t){if("__proto__"!=t)return e[t]}function ye(e,t,n){var o=e[t];rs.call(e,t)&&ns(o,n)&&(void 0!==n||t in e)||ts(e,t,n)}function ge(e,t,n,o){var r=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=o?o(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),r?ss(n,s,c):as(n,s,c)}return n}function ve(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function be(e,t){var n=typeof e;return!!(t=null==t?ps:t)&&("number"==n||"symbol"!=n&&ls.test(e))&&e>-1&&e%1==0&&e<t}function me(e,t){var n=ys(e),o=!n&&hs(e),r=!n&&!o&&gs(e),i=!n&&!o&&!r&&bs(e),a=n||o||r||i,s=a?fs(e.length,String):[],c=s.length;for(var d in e)!t&&!js.call(e,d)||a&&("length"==d||r&&("offset"==d||"parent"==d)||i&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||vs(d,c))||s.push(d);return s}function je(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function Oe(e){if(!Es(e))return _s(e);var t=ws(e),n=[];for(var o in e)("constructor"!=o||!t&&xs.call(e,o))&&n.push(o);return n}function Ne(e){return Rs(e)?As(e,!0):Cs(e)}function Ee(e){return Ss(e,Fs(e))}function we(e,t,n,o,r,i,a){var s=Ks(e,n),c=Ks(t,n),d=a.get(c);if(d)return void Ms(e,n,d);var p=i?i(s,c,n+"",e,t,a):void 0,l=void 0===p;if(l){var u=$s(c),f=!u&&Us(c),h=!u&&!f&&Ys(c);p=c,u||f||h?$s(s)?p=s:zs(s)?p=Vs(s):f?(l=!1,p=Ls(c,!0)):h?(l=!1,p=ks(c,!0)):p=[]:qs(c)||Bs(c)?(p=s,Bs(s)?p=Xs(s):Ws(s)&&!Gs(s)||(p=Hs(c))):l=!1}l&&(a.set(c,p),r(p,c,o,i,a),a.delete(c)),Ms(e,n,p)}function _e(e,t,n,o,r){e!==t&&ec(t,function(i,a){if(nc(i))r||(r=new Js),tc(e,t,a,n,_e,o,r);else{var s=o?o(rc(e,a),i,a+"",e,t,r):void 0;void 0===s&&(s=i),Qs(e,a,s)}},oc)}function De(e,t,n,o,r,i){return sc(e)&&sc(t)&&(i.set(t,e),ac(e,t,void 0,De,i),i.delete(t)),e}function xe(e,t,n){if(!uc(n))return!1;var o=typeof t;return!!("number"==o?pc(n)&&lc(t,n.length):"string"==o&&t in n)&&dc(n[t],e)}function Ie(e){return hc(function(t,n){var o=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(r--,i):void 0,a&&yc(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++o<r;){var s=n[o];s&&e(t,s,o,i)}return t})}function Ae(e){return"symbol"==typeof e||Ic(e)&&xc(e)==Ac}function Ce(e,t){if(Rc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Pc(e))||(Fc.test(e)||!Sc.test(e)||null!=t&&e in Object(t))}function Re(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Lc);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(Re.Cache||Mc),n}function Pe(e){var t=Vc(e,function(e){return n.size===Hc&&n.clear(),e}),n=t.cache;return t}function Se(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}function Fe(e){if("string"==typeof e)return e;if(Xc(e))return Kc(e,Fe)+"";if(Zc(e))return ed?ed.call(e):"";var t=e+"";return"0"==t&&1/e==-Jc?"-0":t}function Te(e){return null==e?"":nd(e)}function Me(e,t){return rd(e)?e:id(e,t)?[e]:ad(sd(e))}function Le(e){if("string"==typeof e||dd(e))return e;var t=e+"";return"0"==t&&1/e==-pd?"-0":t}function ke(e,t){t=ud(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[fd(t[n++])];return n&&n==o?e:void 0}function Ve(e,t,n){var o=null==e?void 0:yd(e,t);return void 0===o?n:o}function He(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function Be(e){if(!Od(e))return Nd(e);var t=[];for(var n in Object(e))wd.call(e,n)&&"constructor"!=n&&t.push(n);return t}function $e(e){return Id(e)?Dd(e):xd(e)}function ze(e,t){return e&&Cd(t,Rd(t),e)}function Ue(e,t){return e&&Sd(t,Fd(t),e)}function Ge(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i}function We(){return[]}function qe(e,t){return Gd(e,Wd(e),t)}function Ye(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function Ke(e,t){return np(e,op(e),t)}function Xe(e,t,n){var o=t(e);return ap(e)?o:ip(o,n(e))}function Ze(e){return cp(e,pp,dp)}function Je(e){return up(e,hp,fp)}function Qe(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qp.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function et(e,t){var n=t?Kp(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function tt(e){var t=new e.constructor(e.source,Zp.exec(e));return t.lastIndex=e.lastIndex,t}function nt(e){return tl?Object(tl.call(e)):{}}function ot(e,t,n){var o=e.constructor;switch(t){case gl:return ol(e);case cl:case dl:return new o(+e);case vl:return rl(e,n);case bl:case ml:case jl:case Ol:case Nl:case El:case wl:case _l:case Dl:return sl(e,n);case pl:return new o;case ll:case hl:return new o(e);case ul:return il(e);case fl:return new o;case yl:return al(e)}}function rt(e){return Al(e)&&Il(e)==Cl}function it(e){return Vl(e)&&kl(e)==Hl}function at(e,t,n,o,r,i){var a,s=t&yu,c=t&gu,d=t&vu;if(n&&(a=r?n(e,o,r,i):n(e)),void 0!==a)return a;if(!uu(e))return e;var p=du(e);if(p){if(a=au(e),!s)return eu(e,a)}else{var l=iu(e),u=l==mu||l==ju;if(pu(e))return Ql(e,s);if(l==Ou||l==bu||u&&!r){if(a=c||u?{}:cu(e),!s)return c?nu(e,Jl(a,e)):tu(e,Zl(a,e))}else{if(!Nu[l])return r?e:{};a=su(e,l,s)}}i||(i=new Yl);var f=i.get(e);if(f)return f;if(i.set(e,a),fu(e))return e.forEach(function(o){a.add(at(o,t,n,o,e,i))}),a;if(lu(e))return e.forEach(function(o,r){a.set(r,at(o,t,n,r,e,i))}),a;var h=d?c?ru:ou:c?keysIn:hu,y=p?void 0:h(e);return Kl(y||e,function(o,r){y&&(r=o,o=e[r]),Xl(a,r,at(o,t,n,r,e,i))}),a}function st(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function ct(e,t,n){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++o<r;)i[o]=e[o+t];return i}function dt(e,t){return t.length<2?e:xu(e,Iu(t,0,-1))}function pt(e,t){return t=Cu(t,e),null==(e=Pu(e,t))||delete e[Su(Ru(t))]}function lt(e){return Tu(e)?void 0:e}function ut(e){return Vu(e)||ku(e)||!!(Hu&&e&&e[Hu])}function ft(e,t,n,o,r){var i=-1,a=e.length;for(n||(n=zu),r||(r=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?ft(s,t-1,n,o,r):$u(r,s):o||(r[r.length]=s)}return r}function ht(e){return(null==e?0:e.length)?Gu(e,1):[]}function yt(e){return Ku(Yu(e,void 0,qu),e+"")}function gt(e){return"number"==typeof e||df(e)&&cf(e)==pf}function vt(e){return e&&e.length?e[0]:void 0}function bt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function mt(e){return this.__data__.set(e,Tf),this}function jt(e){return this.__data__.has(e)}function Ot(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new kf;++t<n;)this.add(e[t])}function Nt(e,t){return e.has(t)}function Et(e,t,n,o,r,i){var a=n&Wf,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var d=i.get(e);if(d&&i.get(t))return d==t;var p=-1,l=!0,u=n&qf?new zf:void 0;for(i.set(e,t),i.set(t,e);++p<s;){var f=e[p],h=t[p];if(o)var y=a?o(h,f,p,t,e,i):o(f,h,p,e,t,i);if(void 0!==y){if(y)continue;l=!1;break}if(u){if(!Uf(t,function(e,t){if(!Gf(u,t)&&(f===e||r(f,e,n,o,i)))return u.push(t)})){l=!1;break}}else if(f!==h&&!r(f,h,n,o,i)){l=!1;break}}return i.delete(e),i.delete(t),l}function wt(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}function _t(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Dt(e,t,n,o,r,i,a){switch(n){case yh:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case hh:return!(e.byteLength!=t.byteLength||!i(new Jf(e),new Jf(t)));case ih:case ah:case dh:return Qf(+e,+t);case sh:return e.name==t.name&&e.message==t.message;case ph:case uh:return e==t+"";case ch:var s=th;case lh:var c=o&oh;if(s||(s=nh),e.size!=t.size&&!c)return!1;var d=a.get(e);if(d)return d==t;o|=rh,a.set(e,t);var p=eh(s(e),s(t),o,r,i,a);return a.delete(e),p;case fh:if(vh)return vh.call(e)==vh.call(t)}return!1}function xt(e,t,n,o,r,i){var a=n&jh,s=mh(e),c=s.length;if(c!=mh(t).length&&!a)return!1;for(var d=c;d--;){var p=s[d];if(!(a?p in t:Nh.call(t,p)))return!1}var l=i.get(e);if(l&&i.get(t))return l==t;var u=!0;i.set(e,t),i.set(t,e);for(var f=a;++d<c;){p=s[d];var h=e[p],y=t[p];if(o)var g=a?o(y,h,p,t,e,i):o(h,y,p,e,t,i);if(!(void 0===g?h===y||r(h,y,n,o,i):g)){u=!1;break}f||(f="constructor"==p)}if(u&&!f){var v=e.constructor,b=t.constructor;v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(u=!1)}return i.delete(e),i.delete(t),u}function It(e,t,n,o,r,i){var a=Ah(e),s=Ah(t),c=a?Fh:Ih(e),d=s?Fh:Ih(t);c=c==Sh?Th:c,d=d==Sh?Th:d;var p=c==Th,l=d==Th,u=c==d;if(u&&Ch(e)){if(!Ch(t))return!1;a=!0,p=!1}if(u&&!p)return i||(i=new wh),a||Rh(e)?_h(e,t,n,o,r,i):Dh(e,t,c,n,o,r,i);if(!(n&Ph)){var f=p&&Lh.call(e,"__wrapped__"),h=l&&Lh.call(t,"__wrapped__");if(f||h){var y=f?e.value():e,g=h?t.value():t;return i||(i=new wh),r(y,g,n,o,i)}}return!!u&&(i||(i=new wh),xh(e,t,n,o,r,i))}function At(e,t,n,o,r){return e===t||(null==e||null==t||!Hh(e)&&!Hh(t)?e!==e&&t!==t:Vh(e,t,n,o,At,r))}function Ct(e,t,n,o){var r=n.length,i=r,a=!o;if(null==e)return!i;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=n[r];var c=s[0],d=e[c],p=s[1];if(a&&s[2]){if(void 0===d&&!(c in e))return!1}else{var l=new $h;if(o)var u=o(d,p,c,e,t,l);if(!(void 0===u?zh(p,d,Uh|Gh,o,l):u))return!1}}return!0}function Rt(e){return e===e&&!qh(e)}function Pt(e){for(var t=Xh(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Kh(r)]}return t}function St(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Ft(e){var t=ey(e);return 1==t.length&&t[0][2]?ty(t[0][0],t[0][1]):function(n){return n===e||Qh(n,e,t)}}function Tt(e,t){return null!=e&&t in Object(e)}function Mt(e,t,n){t=ry(t,e);for(var o=-1,r=t.length,i=!1;++o<r;){var a=dy(t[o]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++o!=r?i:!!(r=null==e?0:e.length)&&cy(r)&&sy(a,r)&&(ay(e)||iy(e))}function Lt(e,t){return null!=e&&uy(e,t,ly)}function kt(e,t){return vy(e)&&by(t)?my(jy(e),t):function(n){var o=yy(n,e);return void 0===o&&o===t?gy(n,e):hy(t,o,Oy|Ny)}}function Vt(e){return function(t){return null==t?void 0:t[e]}}function Ht(e){return function(t){return _y(t,e)}}function Bt(e){return Ay(e)?xy(Cy(e)):Iy(e)}function $t(e){return"function"==typeof e?e:null==e?Fy:"object"==typeof e?Ty(e)?Sy(e[0],e[1]):Py(e):My(e)}function zt(e,t){return e&&ky(e,t,Vy)}function Ut(e,t){return function(n,o){if(null==n)return n;if(!By(n))return e(n,o);for(var r=n.length,i=t?r:-1,a=Object(n);(t?i--:++i<r)&&!1!==o(a[i],i,a););return n}}function Gt(e,t){var n;return qy(e,function(e,o,r){return!(n=t(e,o,r))}),!!n}function Wt(e,t,n){var o=Jy(e)?Ky:Zy;return n&&Qy(e,t,n)&&(t=void 0),o(e,Xy(t,3))}function qt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function Yt(e,t){var n=!0;return ng(e,function(e,o,r){return n=!!t(e,o,r)}),n}function Kt(e,t,n){var o=sg(e)?rg:ig;return n&&cg(e,t,n)&&(t=void 0),o(e,ag(t,3))}function Xt(){return Math.floor(1e13*Math.random())}function Zt(e){for(var t=-1,n=null==e?0:e.length,o=0,r=[];++t<n;){var i=e[t];i&&(r[o++]=i)}return r}function Jt(e){return function(t,n,o){var r=Object(t);if(!yg(t)){var i=hg(n,3);t=gg(t),n=function(e){return i(r[e],e,r)}}var a=e(t,n,o);return a>-1?r[i?t[a]:a]:void 0}}function Qt(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function en(e){if("number"==typeof e)return e;if(jg(e))return Og;if(mg(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=mg(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ng,"");var n=wg.test(e);return n||_g.test(e)?Dg(e.slice(2),n?2:8):Eg.test(e)?Og:+e}function tn(e){if(!e)return 0===e?e:0;if((e=Ig(e))===Ag||e===-Ag){return(e<0?-1:1)*Cg}return e===e?e:0}function nn(e){var t=Pg(e),n=t%1;return t===t?n?t-n:t:0}function on(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:Mg(n);return r<0&&(r=Lg(o+r,0)),Fg(e,Tg(t,3),r)}function rn(e){return"string"==typeof e||!Ug(e)&&Gg(e)&&zg(e)==Wg}function an(e,t,n){void 0===n&&(n=0);for(var o=n,r=e.length-1;o!==r;){var i=Math.floor((o+r)/2);t(e[i])?r=i:o=o===i?r:i}return o}function sn(e,t,n){function o(t){var n=u,o=f;return u=f=void 0,b=t,y=e.apply(o,n)}function r(e){return b=e,g=setTimeout(s,t),m?o(e):y}function i(e){var n=e-v,o=e-b,r=t-n;return j?fv(r,h-o):r}function a(e){var n=e-v,o=e-b;return void 0===v||n>=t||n<0||j&&o>=h}function s(){var e=dv();if(a(e))return c(e);g=setTimeout(s,i(e))}function c(e){return g=void 0,O&&u?o(e):(u=f=void 0,y)}function d(){void 0!==g&&clearTimeout(g),b=0,u=v=f=g=void 0}function p(){return void 0===g?y:c(dv())}function l(){var e=dv(),n=a(e);if(u=arguments,f=this,v=e,n){if(void 0===g)return r(v);if(j)return g=setTimeout(s,t),o(v)}return void 0===g&&(g=setTimeout(s,t)),y}var u,f,h,y,g,v,b=0,m=!1,j=!1,O=!0;if("function"!=typeof e)throw new TypeError(lv);return t=pv(t)||0,cv(n)&&(m=!!n.leading,j="maxWait"in n,h=j?uv(pv(n.maxWait)||0,t):h,O="trailing"in n?!!n.trailing:O),l.cancel=d,l.flush=p,l}function cn(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(vv);return gv(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),yv(e,t,{leading:o,maxWait:t,trailing:r})}function dn(e){return e!==e}function pn(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}function ln(e,t,n){return t===t?Dv(e,t,n):wv(e,_v,n)}function un(e,t){return Iv(t,function(t){return e[t]})}function fn(e){return null==e?[]:Cv(e,Rv(e))}function hn(e,t,n,o){e=Fv(e)?e:Lv(e),n=n&&!o?Mv(n):0;var r=e.length;return n<0&&(n=kv(r+n,0)),Tv(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Sv(e,t,n)>-1}function yn(e,t,n,o){if(!zv(e))return e;t=Bv(t,e);for(var r=-1,i=t.length,a=i-1,s=e;null!=s&&++r<i;){var c=Uv(t[r]),d=n;if(r!=a){var p=s[c];d=o?o(p,c,s):void 0,void 0===d&&(d=zv(p)?p:$v(t[r+1])?[]:{})}Hv(s,c,d),s=s[c]}return e}function gn(e,t,n){for(var o=-1,r=t.length,i={};++o<r;){var a=t[o],s=Wv(e,a);n(s,a)&&qv(i,Yv(a,e),s)}return i}function vn(e,t){return Xv(e,t,function(t,n){return Zv(e,n)})}var bn={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,CONTEXT_MENU:32},mn=i,jn=a,On=mn,Nn=Math.max,En=s,wn=c,_n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Dn="object"==typeof _n&&_n&&_n.Object===Object&&_n,xn=Dn,In=xn,An="object"==typeof self&&self&&self.Object===Object&&self,Cn=In||An||Function("return this")(),Rn=Cn,Pn=Rn,Sn=Pn.Symbol,Fn=Sn,Tn=Fn,Mn=Object.prototype,Ln=Mn.hasOwnProperty,kn=Mn.toString,Vn=Tn?Tn.toStringTag:void 0,Hn=p,Bn=Object.prototype,$n=Bn.toString,zn=l,Un=Fn,Gn=Hn,Wn=zn,qn="[object Null]",Yn="[object Undefined]",Kn=Un?Un.toStringTag:void 0,Xn=u,Zn=f,Jn=Xn,Qn=Zn,eo="[object AsyncFunction]",to="[object Function]",no="[object GeneratorFunction]",oo="[object Proxy]",ro=h,io=Rn,ao=io["__core-js_shared__"],so=ao,co=so,po=function(){var e=/[^.]+$/.exec(co&&co.keys&&co.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lo=y,uo=Function.prototype,fo=uo.toString,ho=g,yo=ro,go=lo,vo=Zn,bo=ho,mo=/[\\^$.*+?()[\]{}|]/g,jo=/^\[object .+?Constructor\]$/,Oo=Function.prototype,No=Object.prototype,Eo=Oo.toString,wo=No.hasOwnProperty,_o=RegExp("^"+Eo.call(wo).replace(mo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Do=v,xo=b,Io=Do,Ao=xo,Co=m,Ro=Co,Po=function(){try{var e=Ro(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),So=Po,Fo=wn,To=So,Mo=jn,Lo=To?function(e,t){return To(e,"toString",{configurable:!0,enumerable:!1,value:Fo(t),writable:!0})}:Mo,ko=Lo,Vo=800,Ho=16,Bo=Date.now,$o=j,zo=ko,Uo=$o,Go=Uo(zo),Wo=Go,qo=jn,Yo=En,Ko=Wo,Xo=O,Zo=N,Jo=E,Qo=Jo,er=w,tr=er,nr=Array.prototype,or=nr.splice,rr=_,ir=er,ar=D,sr=er,cr=x,dr=er,pr=I,lr=Zo,ur=rr,fr=ar,hr=cr,yr=pr;A.prototype.clear=lr,A.prototype.delete=ur,A.prototype.get=fr,A.prototype.has=hr,A.prototype.set=yr;var gr=A,vr=gr,br=C,mr=R,jr=P,Or=S,Nr=Co,Er=Rn,wr=Nr(Er,"Map"),_r=wr,Dr=Co,xr=Dr(Object,"create"),Ir=xr,Ar=Ir,Cr=F,Rr=T,Pr=Ir,Sr="__lodash_hash_undefined__",Fr=Object.prototype,Tr=Fr.hasOwnProperty,Mr=M,Lr=Ir,kr=Object.prototype,Vr=kr.hasOwnProperty,Hr=L,Br=Ir,$r="__lodash_hash_undefined__",zr=k,Ur=Cr,Gr=Rr,Wr=Mr,qr=Hr,Yr=zr;V.prototype.clear=Ur,V.prototype.delete=Gr,V.prototype.get=Wr,V.prototype.has=qr,V.prototype.set=Yr;var Kr=V,Xr=Kr,Zr=gr,Jr=_r,Qr=H,ei=B,ti=ei,ni=$,oi=ni,ri=z,ii=ni,ai=U,si=ni,ci=G,di=ni,pi=W,li=Qr,ui=ri,fi=ai,hi=ci,yi=pi;q.prototype.clear=li,q.prototype.delete=ui,q.prototype.get=fi,q.prototype.has=hi,q.prototype.set=yi;var gi=q,vi=gr,bi=_r,mi=gi,ji=200,Oi=Y,Ni=gr,Ei=br,wi=mr,_i=jr,Di=Or,xi=Oi;K.prototype.clear=Ei,K.prototype.delete=wi,K.prototype.get=_i,K.prototype.has=Di,K.prototype.set=xi;var Ii=K,Ai=So,Ci=X,Ri=Ci,Pi=Jo,Si=Z,Fi=J,Ti=Fi,Mi=Ti(),Li=Mi,ki=d(function(e,t){function n(e,t){if(t)return e.slice();var n=e.length,o=c?c(n):new e.constructor(n);return e.copy(o),o}var o=Rn,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a?o.Buffer:void 0,c=s?s.allocUnsafe:void 0;e.exports=n}),Vi=Rn,Hi=Vi.Uint8Array,Bi=Hi,$i=Bi,zi=Q,Ui=zi,Gi=ee,Wi=te,qi=Zn,Yi=Object.create,Ki=function(){function e(){}return function(t){if(!qi(t))return{};if(Yi)return Yi(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Xi=Ki,Zi=ne,Ji=Zi,Qi=Ji(Object.getPrototypeOf,Object),ea=Qi,ta=Object.prototype,na=oe,oa=Xi,ra=ea,ia=na,aa=re,sa=ie,ca=Xn,da=sa,pa="[object Arguments]",la=ae,ua=la,fa=sa,ha=Object.prototype,ya=ha.hasOwnProperty,ga=ha.propertyIsEnumerable,va=ua(function(){return arguments}())?ua:function(e){return fa(e)&&ya.call(e,"callee")&&!ga.call(e,"callee")},ba=va,ma=Array.isArray,ja=ma,Oa=9007199254740991,Na=se,Ea=ro,wa=Na,_a=ce,Da=_a,xa=sa,Ia=de,Aa=pe,Ca=d(function(e,t){var n=Rn,o=Aa,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a?n.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||o;e.exports=d}),Ra=Xn,Pa=ea,Sa=sa,Fa="[object Object]",Ta=Function.prototype,Ma=Object.prototype,La=Ta.toString,ka=Ma.hasOwnProperty,Va=La.call(Object),Ha=le,Ba=Xn,$a=Na,za=sa,Ua={};Ua["[object Float32Array]"]=Ua["[object Float64Array]"]=Ua["[object Int8Array]"]=Ua["[object Int16Array]"]=Ua["[object Int32Array]"]=Ua["[object Uint8Array]"]=Ua["[object Uint8ClampedArray]"]=Ua["[object Uint16Array]"]=Ua["[object Uint32Array]"]=!0,Ua["[object Arguments]"]=Ua["[object Array]"]=Ua["[object ArrayBuffer]"]=Ua["[object Boolean]"]=Ua["[object DataView]"]=Ua["[object Date]"]=Ua["[object Error]"]=Ua["[object Function]"]=Ua["[object Map]"]=Ua["[object Number]"]=Ua["[object Object]"]=Ua["[object RegExp]"]=Ua["[object Set]"]=Ua["[object String]"]=Ua["[object WeakMap]"]=!1;var Ga=ue,Wa=fe,qa=d(function(e,t){var n=xn,o=t&&!t.nodeType&&t,r=o&&!0&&e&&!e.nodeType&&e,i=r&&r.exports===o,a=i&&n.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}),Ya=Ga,Ka=Wa,Xa=qa,Za=Xa&&Xa.isTypedArray,Ja=Za?Ka(Za):Ya,Qa=Ja,es=he,ts=Ci,ns=Jo,os=Object.prototype,rs=os.hasOwnProperty,is=ye,as=is,ss=Ci,cs=ge,ds=ve,ps=9007199254740991,ls=/^(?:0|[1-9]\d*)$/,us=be,fs=ds,hs=ba,ys=ja,gs=Ca,vs=us,bs=Qa,ms=Object.prototype,js=ms.hasOwnProperty,Os=me,Ns=je,Es=Zn,ws=na,_s=Ns,Ds=Object.prototype,xs=Ds.hasOwnProperty,Is=Oe,As=Os,Cs=Is,Rs=_a,Ps=Ne,Ss=cs,Fs=Ps,Ts=Ee,Ms=Si,Ls=ki,ks=Gi,Vs=Wi,Hs=aa,Bs=ba,$s=ja,zs=Ia,Us=Ca,Gs=ro,Ws=Zn,qs=Ha,Ys=Qa,Ks=es,Xs=Ts,Zs=we,Js=Ii,Qs=Si,ec=Li,tc=Zs,nc=Zn,oc=Ps,rc=es,ic=_e,ac=ic,sc=Zn,cc=De,dc=Jo,pc=_a,lc=us,uc=Zn,fc=xe,hc=Xo,yc=fc,gc=Ie,vc=ic,bc=gc,mc=bc(function(e,t,n,o){vc(e,t,n,o)}),jc=mc,Oc=mn,Nc=Xo,Ec=cc,wc=jc,_c=Nc(function(e){return e.push(void 0,Ec),Oc(wc,void 0,e)}),Dc=_c,xc=Xn,Ic=sa,Ac="[object Symbol]",Cc=Ae,Rc=ja,Pc=Cc,Sc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fc=/^\w*$/,Tc=Ce,Mc=gi,Lc="Expected a function";Re.Cache=Mc;var kc=Re,Vc=kc,Hc=500,Bc=Pe,$c=Bc,zc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uc=/\\(\\)?/g,Gc=$c(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(zc,function(e,n,o,r){t.push(o?r.replace(Uc,"$1"):n||e)}),t}),Wc=Gc,qc=Se,Yc=Fn,Kc=qc,Xc=ja,Zc=Cc,Jc=1/0,Qc=Yc?Yc.prototype:void 0,ed=Qc?Qc.toString:void 0,td=Fe,nd=td,od=Te,rd=ja,id=Tc,ad=Wc,sd=od,cd=Me,dd=Cc,pd=1/0,ld=Le,ud=cd,fd=ld,hd=ke,yd=hd,gd=Ve,vd=He,bd=Zi,md=bd(Object.keys,Object),jd=md,Od=na,Nd=jd,Ed=Object.prototype,wd=Ed.hasOwnProperty,_d=Be,Dd=Os,xd=_d,Id=_a,Ad=$e,Cd=cs,Rd=Ad,Pd=ze,Sd=cs,Fd=Ps,Td=Ue,Md=Ge,Ld=We,kd=Md,Vd=Ld,Hd=Object.prototype,Bd=Hd.propertyIsEnumerable,$d=Object.getOwnPropertySymbols,zd=$d?function(e){return null==e?[]:(e=Object(e),kd($d(e),function(t){return Bd.call(e,t)}))}:Vd,Ud=zd,Gd=cs,Wd=Ud,qd=qe,Yd=Ye,Kd=Yd,Xd=ea,Zd=Ud,Jd=Ld,Qd=Object.getOwnPropertySymbols,ep=Qd?function(e){for(var t=[];e;)Kd(t,Zd(e)),e=Xd(e);return t}:Jd,tp=ep,np=cs,op=tp,rp=Ke,ip=Yd,ap=ja,sp=Xe,cp=sp,dp=Ud,pp=Ad,lp=Ze,up=sp,fp=tp,hp=Ps,yp=Je,gp=Co,vp=Rn,bp=gp(vp,"DataView"),mp=bp,jp=Co,Op=Rn,Np=jp(Op,"Promise"),Ep=Np,wp=Co,_p=Rn,Dp=wp(_p,"Set"),xp=Dp,Ip=Co,Ap=Rn,Cp=Ip(Ap,"WeakMap"),Rp=Cp,Pp=mp,Sp=_r,Fp=Ep,Tp=xp,Mp=Rp,Lp=Xn,kp=ho,Vp=kp(Pp),Hp=kp(Sp),Bp=kp(Fp),$p=kp(Tp),zp=kp(Mp),Up=Lp;(Pp&&"[object DataView]"!=Up(new Pp(new ArrayBuffer(1)))||Sp&&"[object Map]"!=Up(new Sp)||Fp&&"[object Promise]"!=Up(Fp.resolve())||Tp&&"[object Set]"!=Up(new Tp)||Mp&&"[object WeakMap]"!=Up(new Mp))&&(Up=function(e){var t=Lp(e),n="[object Object]"==t?e.constructor:void 0,o=n?kp(n):"";if(o)switch(o){case Vp:return"[object DataView]";case Hp:return"[object Map]";case Bp:return"[object Promise]";case $p:return"[object Set]";case zp:return"[object WeakMap]"}return t});var Gp=Up,Wp=Object.prototype,qp=Wp.hasOwnProperty,Yp=Qe,Kp=zi,Xp=et,Zp=/\w*$/,Jp=tt,Qp=Fn,el=Qp?Qp.prototype:void 0,tl=el?el.valueOf:void 0,nl=nt,ol=zi,rl=Xp,il=Jp,al=nl,sl=Gi,cl="[object Boolean]",dl="[object Date]",pl="[object Map]",ll="[object Number]",ul="[object RegExp]",fl="[object Set]",hl="[object String]",yl="[object Symbol]",gl="[object ArrayBuffer]",vl="[object DataView]",bl="[object Float32Array]",ml="[object Float64Array]",jl="[object Int8Array]",Ol="[object Int16Array]",Nl="[object Int32Array]",El="[object Uint8Array]",wl="[object Uint8ClampedArray]",_l="[object Uint16Array]",Dl="[object Uint32Array]",xl=ot,Il=Gp,Al=sa,Cl="[object Map]",Rl=rt,Pl=Rl,Sl=Wa,Fl=qa,Tl=Fl&&Fl.isMap,Ml=Tl?Sl(Tl):Pl,Ll=Ml,kl=Gp,Vl=sa,Hl="[object Set]",Bl=it,$l=Bl,zl=Wa,Ul=qa,Gl=Ul&&Ul.isSet,Wl=Gl?zl(Gl):$l,ql=Wl,Yl=Ii,Kl=vd,Xl=is,Zl=Pd,Jl=Td,Ql=ki,eu=Wi,tu=qd,nu=rp,ou=lp,ru=yp,iu=Gp,au=Yp,su=xl,cu=aa,du=ja,pu=Ca,lu=Ll,uu=Zn,fu=ql,hu=Ad,yu=1,gu=2,vu=4,bu="[object Arguments]",mu="[object Function]",ju="[object GeneratorFunction]",Ou="[object Object]",Nu={};Nu[bu]=Nu["[object Array]"]=Nu["[object ArrayBuffer]"]=Nu["[object DataView]"]=Nu["[object Boolean]"]=Nu["[object Date]"]=Nu["[object Float32Array]"]=Nu["[object Float64Array]"]=Nu["[object Int8Array]"]=Nu["[object Int16Array]"]=Nu["[object Int32Array]"]=Nu["[object Map]"]=Nu["[object Number]"]=Nu[Ou]=Nu["[object RegExp]"]=Nu["[object Set]"]=Nu["[object String]"]=Nu["[object Symbol]"]=Nu["[object Uint8Array]"]=Nu["[object Uint8ClampedArray]"]=Nu["[object Uint16Array]"]=Nu["[object Uint32Array]"]=!0,Nu["[object Error]"]=Nu[mu]=Nu["[object WeakMap]"]=!1;var Eu,wu=at,_u=st,Du=ct,xu=hd,Iu=Du,Au=dt,Cu=cd,Ru=_u,Pu=Au,Su=ld,Fu=pt,Tu=Ha,Mu=lt,Lu=Fn,ku=ba,Vu=ja,Hu=Lu?Lu.isConcatSpreadable:void 0,Bu=ut,$u=Yd,zu=Bu,Uu=ft,Gu=Uu,Wu=ht,qu=Wu,Yu=En,Ku=Wo,Xu=yt,Zu=qc,Ju=wu,Qu=Fu,ef=cd,tf=cs,nf=Mu,of=Xu,rf=yp,af=of(function(e,t){var n={};if(null==e)return n;var o=!1;t=Zu(t,function(t){return t=ef(t,e),o||(o=t.length>1),t}),tf(e,rf(e),n),o&&(n=Ju(n,7,nf));for(var r=t.length;r--;)Qu(n,t[r]);return n}),sf=af,cf=Xn,df=sa,pf="[object Number]",lf=gt,uf=function(e,t,n){return t&&t.toggleActivated()},ff=function(e,t,n){return t&&t.toggleActivated(!0)},hf=function(e,t,n){return t&&t.toggleSelected()},yf=function(e,t,n){return t.setIsActive(!0)},gf=function(e,t,n){return t.setIsActive(!1)},vf=function(e,t,n){return t.setIsSelected(!0)},bf=function(e,t,n){return t.setIsSelected(!1)},mf=function(e,t,n){return t.focus()},jf=function(e,t,n){return t.hasChildren&&t.toggleExpanded()},Of=function(e,t,n){return t.expand()},Nf=function(e,t,n){return t.collapse()},Ef=function(e,t,n){return e.focusDrillDown()},wf=function(e,t,n){return e.focusDrillUp()},_f=function(e,t,n){return e.focusNextNode()},Df=function(e,t,n){return e.focusPreviousNode()},xf=function(e,t,n,o){var r=o.from,i=o.to;n.ctrlKey?e.copyNode(r,i):e.moveNode(r,i)},If={TOGGLE_ACTIVE:uf,TOGGLE_ACTIVE_MULTI:ff,TOGGLE_SELECTED:hf,ACTIVATE:yf,DEACTIVATE:gf,SELECT:vf,DESELECT:bf,FOCUS:mf,TOGGLE_EXPANDED:jf,EXPAND:Of,COLLAPSE:Nf,DRILL_DOWN:Ef,DRILL_UP:wf,NEXT_NODE:_f,PREVIOUS_NODE:Df,MOVE_NODE:xf},Af={mouse:{click:If.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:If.TOGGLE_EXPANDED,checkboxClick:If.TOGGLE_SELECTED,drop:If.MOVE_NODE},keys:(Eu={},Eu[bn.RIGHT]=If.DRILL_DOWN,Eu[bn.LEFT]=If.DRILL_UP,Eu[bn.DOWN]=If.NEXT_NODE,Eu[bn.UP]=If.PREVIOUS_NODE,Eu[bn.SPACE]=If.TOGGLE_ACTIVE,Eu[bn.ENTER]=If.TOGGLE_ACTIVE,Eu)},Cf=function(){function e(e){void 0===e&&(e={}),this.options=e,this.actionMapping=Dc({},this.options.actionMapping,Af),e.rtl&&(this.actionMapping.keys[bn.RIGHT]=gd(e,["actionMapping","keys",bn.RIGHT])||If.DRILL_UP,this.actionMapping.keys[bn.LEFT]=gd(e,["actionMapping","keys",bn.LEFT])||If.DRILL_DOWN)}return Object.defineProperty(e.prototype,"hasChildrenField",{get:function(){return this.options.hasChildrenField||"hasChildren"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childrenField",{get:function(){return this.options.childrenField||"children"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayField",{get:function(){return this.options.displayField||"name"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idField",{get:function(){return this.options.idField||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpandedField",{get:function(){return this.options.isExpandedField||"isExpanded"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getChildren",{get:function(){return this.options.getChildren},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"levelPadding",{get:function(){return this.options.levelPadding||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useVirtualScroll",{get:function(){return this.options.useVirtualScroll},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animateExpand",{get:function(){return this.options.animateExpand},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animateSpeed",{get:function(){return this.options.animateSpeed||1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animateAcceleration",{get:function(){
return this.options.animateAcceleration||1.2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollOnActivate",{get:function(){return void 0===this.options.scrollOnActivate||this.options.scrollOnActivate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rtl",{get:function(){return!!this.options.rtl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootId",{get:function(){return this.options.rootId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useCheckbox",{get:function(){return this.options.useCheckbox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useTriState",{get:function(){return void 0===this.options.useTriState||this.options.useTriState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollContainer",{get:function(){return this.options.scrollContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragoverStyling",{get:function(){return void 0===this.options.allowDragoverStyling||this.options.allowDragoverStyling},enumerable:!0,configurable:!0}),e.prototype.getNodeClone=function(e){return this.options.getNodeClone?this.options.getNodeClone(e):sf(Object.assign({},e.data),["id"])},e.prototype.allowDrop=function(e,t,n){return this.options.allowDrop instanceof Function?this.options.allowDrop(e,t,n):void 0===this.options.allowDrop||this.options.allowDrop},e.prototype.allowDrag=function(e){return this.options.allowDrag instanceof Function?this.options.allowDrag(e):this.options.allowDrag},e.prototype.nodeClass=function(e){return this.options.nodeClass?this.options.nodeClass(e):""},e.prototype.nodeHeight=function(e){if(e.data.virtual)return 0;var t=this.options.nodeHeight||22;return"function"==typeof t&&(t=t(e)),t+(0===e.index?2:1)*this.dropSlotHeight},Object.defineProperty(e.prototype,"dropSlotHeight",{get:function(){return lf(this.options.dropSlotHeight)?this.options.dropSlotHeight:2},enumerable:!0,configurable:!0}),e}(),Rf={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"},Pf=vt,Sf=Pf,Ff=bt,Tf="__lodash_hash_undefined__",Mf=mt,Lf=jt,kf=gi,Vf=Mf,Hf=Lf;Ot.prototype.add=Ot.prototype.push=Vf,Ot.prototype.has=Hf;var Bf=Ot,$f=Nt,zf=Bf,Uf=Ff,Gf=$f,Wf=1,qf=2,Yf=Et,Kf=wt,Xf=_t,Zf=Fn,Jf=Bi,Qf=Jo,eh=Yf,th=Kf,nh=Xf,oh=1,rh=2,ih="[object Boolean]",ah="[object Date]",sh="[object Error]",ch="[object Map]",dh="[object Number]",ph="[object RegExp]",lh="[object Set]",uh="[object String]",fh="[object Symbol]",hh="[object ArrayBuffer]",yh="[object DataView]",gh=Zf?Zf.prototype:void 0,vh=gh?gh.valueOf:void 0,bh=Dt,mh=lp,jh=1,Oh=Object.prototype,Nh=Oh.hasOwnProperty,Eh=xt,wh=Ii,_h=Yf,Dh=bh,xh=Eh,Ih=Gp,Ah=ja,Ch=Ca,Rh=Qa,Ph=1,Sh="[object Arguments]",Fh="[object Array]",Th="[object Object]",Mh=Object.prototype,Lh=Mh.hasOwnProperty,kh=It,Vh=kh,Hh=sa,Bh=At,$h=Ii,zh=Bh,Uh=1,Gh=2,Wh=Ct,qh=Zn,Yh=Rt,Kh=Yh,Xh=Ad,Zh=Pt,Jh=St,Qh=Wh,ey=Zh,ty=Jh,ny=Ft,oy=Tt,ry=cd,iy=ba,ay=ja,sy=us,cy=Na,dy=ld,py=Mt,ly=oy,uy=py,fy=Lt,hy=Bh,yy=gd,gy=fy,vy=Tc,by=Yh,my=Jh,jy=ld,Oy=1,Ny=2,Ey=kt,wy=Vt,_y=hd,Dy=Ht,xy=wy,Iy=Dy,Ay=Tc,Cy=ld,Ry=Bt,Py=ny,Sy=Ey,Fy=jn,Ty=ja,My=Ry,Ly=$t,ky=Li,Vy=Ad,Hy=zt,By=_a,$y=Ut,zy=Hy,Uy=$y,Gy=Uy(zy),Wy=Gy,qy=Wy,Yy=Gt,Ky=Ff,Xy=Ly,Zy=Yy,Jy=ja,Qy=fc,eg=Wt,tg=qt,ng=Wy,og=Yt,rg=tg,ig=og,ag=Ly,sg=ja,cg=fc,dg=Kt,pg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},lg=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ug=function(){function e(e,t,n,o){var r=this;this.data=e,this.parent=t,this.treeModel=n,this.position=0,this.allowDrop=function(e,t){return r.options.allowDrop(e,{parent:r,index:0},t)},this.allowDragoverStyling=function(){return r.options.allowDragoverStyling},void 0!==this.id&&null!==this.id||(this.id=Xt()),this.index=o,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}return Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.treeModel.isHidden(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this.treeModel.isExpanded(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.treeModel.isActive(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this.treeModel.isNodeFocused(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.isSelectable()?this.treeModel.isSelected(this):eg(this.children,function(e){return e.isSelected})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAllSelected",{get:function(){return this.isSelectable()?this.treeModel.isSelected(this):dg(this.children,function(e){return e.isAllSelected})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPartiallySelected",{get:function(){return this.isSelected&&!this.isAllSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.parent?this.parent.path.concat([this.id]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementRef",{get:function(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalNode",{get:function(){return this._originalNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLeaf",{get:function(){return!this.hasChildren},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.parent.data.virtual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"realParent",{get:function(){return this.isRoot?null:this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.treeModel.options},enumerable:!0,configurable:!0}),e.prototype.fireEvent=function(e){this.treeModel.fireEvent(e)},Object.defineProperty(e.prototype,"displayField",{get:function(){return this.getField("display")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.getField("id")},set:function(e){this.setField("id",e)},enumerable:!0,configurable:!0}),e.prototype.getField=function(e){return this.data[this.options[e+"Field"]]},e.prototype.setField=function(e,t){this.data[this.options[e+"Field"]]=t},e.prototype._findAdjacentSibling=function(e,t){void 0===t&&(t=!1);var n=this._getParentsChildren(t),o=n.indexOf(this);return n.length>o+e?n[o+e]:null},e.prototype.findNextSibling=function(e){return void 0===e&&(e=!1),this._findAdjacentSibling(1,e)},e.prototype.findPreviousSibling=function(e){return void 0===e&&(e=!1),this._findAdjacentSibling(-1,e)},e.prototype.getVisibleChildren=function(){return this.visibleChildren},Object.defineProperty(e.prototype,"visibleChildren",{get:function(){return(this.children||[]).filter(function(e){return!e.isHidden})},enumerable:!0,configurable:!0}),e.prototype.getFirstChild=function(e){void 0===e&&(e=!1);var t=e?this.visibleChildren:this.children;return Sf(t||[])},e.prototype.getLastChild=function(e){void 0===e&&(e=!1);var t=e?this.visibleChildren:this.children;return _u(t||[])},e.prototype.findNextNode=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),e&&this.isExpanded&&this.getFirstChild(t)||this.findNextSibling(t)||this.parent&&this.parent.findNextNode(!1,t)},e.prototype.findPreviousNode=function(e){void 0===e&&(e=!1);var t=this.findPreviousSibling(e);return t?t._getLastOpenDescendant(e):this.realParent},e.prototype._getLastOpenDescendant=function(e){void 0===e&&(e=!1);var t=this.getLastChild(e);return this.isCollapsed||!t?this:t._getLastOpenDescendant(e)},e.prototype._getParentsChildren=function(e){return void 0===e&&(e=!1),this.parent&&(e?this.parent.getVisibleChildren():this.parent.children)||[]},e.prototype.getIndexInParent=function(e){return void 0===e&&(e=!1),this._getParentsChildren(e).indexOf(this)},e.prototype.isDescendantOf=function(e){return this===e||this.parent&&this.parent.isDescendantOf(e)},e.prototype.getNodePadding=function(){return this.options.levelPadding*(this.level-1)+"px"},e.prototype.getClass=function(){return[this.options.nodeClass(this),"tree-node-level-"+this.level].join(" ")},e.prototype.onDrop=function(e){this.mouseAction("drop",e.event,{from:e.element,to:{parent:this,index:0,dropOnNode:!0}})},e.prototype.allowDrag=function(){return this.options.allowDrag(this)},e.prototype.loadNodeChildren=function(){var e=this;return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(function(t){t&&(e.setField("children",t),e._initChildren(),e.options.useTriState&&e.treeModel.isSelected(e)&&e.setIsSelected(!0),e.children.forEach(function(e){e.getField("isExpanded")&&e.hasChildren&&e.expand()}))}).then(function(){e.fireEvent({eventName:Rf.loadNodeChildren,node:e})}):Promise.resolve()},e.prototype.expand=function(){return this.isExpanded||this.toggleExpanded(),this},e.prototype.collapse=function(){return this.isExpanded&&this.toggleExpanded(),this},e.prototype.doForAll=function(e){var t=this;Promise.resolve(e(this)).then(function(){t.children&&t.children.forEach(function(t){return t.doForAll(e)})})},e.prototype.expandAll=function(){this.doForAll(function(e){return e.expand()})},e.prototype.collapseAll=function(){this.doForAll(function(e){return e.collapse()})},e.prototype.ensureVisible=function(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this},e.prototype.toggleExpanded=function(){return this.setIsExpanded(!this.isExpanded),this},e.prototype.setIsExpanded=function(e){return this.hasChildren&&this.treeModel.setExpandedNode(this,e),this},e.prototype.autoLoadChildren=function(){var e=this;this.handler=r.reaction(function(){return e.isExpanded},function(t){!e.children&&e.hasChildren&&t&&e.loadNodeChildren()},{fireImmediately:!0})},e.prototype.dispose=function(){this.children&&this.children.forEach(function(e){return e.dispose()}),this.handler&&this.handler(),this.parent=null,this.children=null},e.prototype.setIsActive=function(e,t){return void 0===t&&(t=!1),this.treeModel.setActiveNode(this,e,t),e&&this.focus(this.options.scrollOnActivate),this},e.prototype.isSelectable=function(){return this.isLeaf||!this.children||!this.options.useTriState},e.prototype.setIsSelected=function(e){return this.isSelectable()?this.treeModel.setSelectedNode(this,e):this.visibleChildren.forEach(function(t){return t.setIsSelected(e)}),this},e.prototype.toggleSelected=function(){return this.setIsSelected(!this.isSelected),this},e.prototype.toggleActivated=function(e){return void 0===e&&(e=!1),this.setIsActive(!this.isActive,e),this},e.prototype.setActiveAndVisible=function(e){return void 0===e&&(e=!1),this.setIsActive(!0,e).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this},e.prototype.scrollIntoView=function(e){void 0===e&&(e=!1),this.treeModel.virtualScroll.scrollIntoView(this,e)},e.prototype.focus=function(e){void 0===e&&(e=!0);var t=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),e&&this.scrollIntoView(),t&&this.fireEvent({eventName:Rf.blur,node:t}),this.fireEvent({eventName:Rf.focus,node:this}),this},e.prototype.blur=function(){var e=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),e&&this.fireEvent({eventName:Rf.blur,node:this}),this},e.prototype.setIsHidden=function(e){this.treeModel.setIsHidden(this,e)},e.prototype.hide=function(){this.setIsHidden(!0)},e.prototype.show=function(){this.setIsHidden(!1)},e.prototype.mouseAction=function(e,t,n){void 0===n&&(n=null),this.treeModel.setFocus(!0);var o=this.options.actionMapping.mouse,r=o[e];r&&r(this.treeModel,this,t,n)},e.prototype.getSelfHeight=function(){return this.options.nodeHeight(this)},e.prototype._initChildren=function(){var t=this;this.children=this.getField("children").map(function(n,o){return new e(n,t,t.treeModel,o)})},pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isHidden",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isExpanded",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isActive",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isFocused",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isSelected",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isAllSelected",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"isPartiallySelected",null),pg([r.observable,lg("design:type",Array)],e.prototype,"children",void 0),pg([r.observable,lg("design:type",Number)],e.prototype,"index",void 0),pg([r.observable,lg("design:type",Object)],e.prototype,"position",void 0),pg([r.observable,lg("design:type",Number)],e.prototype,"height",void 0),pg([r.computed,lg("design:type",Number),lg("design:paramtypes",[])],e.prototype,"level",null),pg([r.computed,lg("design:type",Array),lg("design:paramtypes",[])],e.prototype,"path",null),pg([r.computed,lg("design:type",Object),lg("design:paramtypes",[])],e.prototype,"visibleChildren",null),pg([r.action,lg("design:type",Function),lg("design:paramtypes",[Object]),lg("design:returntype",void 0)],e.prototype,"setIsSelected",null),pg([r.action,lg("design:type",Function),lg("design:paramtypes",[]),lg("design:returntype",void 0)],e.prototype,"_initChildren",null),e}(),fg=Zt,hg=Ly,yg=_a,gg=Ad,vg=Jt,bg=Qt,mg=Zn,jg=Cc,Og=NaN,Ng=/^\s+|\s+$/g,Eg=/^[-+]0x[0-9a-f]+$/i,wg=/^0b[01]+$/i,_g=/^0o[0-7]+$/i,Dg=parseInt,xg=en,Ig=xg,Ag=1/0,Cg=1.7976931348623157e308,Rg=tn,Pg=Rg,Sg=nn,Fg=bg,Tg=Ly,Mg=Sg,Lg=Math.max,kg=on,Vg=vg,Hg=kg,Bg=Vg(Hg),$g=Bg,zg=Xn,Ug=ja,Gg=sa,Wg="[object String]",qg=rn,Yg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Kg=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xg=function(){function e(){this.options=new Cf,this.eventNames=Object.keys(Rf),this.expandedNodeIds={},this.selectedLeafNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0,this.subscriptions=[]}n=e,e.prototype.fireEvent=function(e){e.treeModel=this,this.events[e.eventName].emit(e),this.events.event.emit(e)},e.prototype.subscribe=function(e,t){var n=this.events[e].subscribe(t);this.subscriptions.push(n)},e.prototype.getFocusedNode=function(){return this.focusedNode},e.prototype.getActiveNode=function(){return this.activeNodes[0]},e.prototype.getActiveNodes=function(){return this.activeNodes},e.prototype.getVisibleRoots=function(){return this.virtualRoot.visibleChildren},e.prototype.getFirstRoot=function(e){return void 0===e&&(e=!1),Sf(e?this.getVisibleRoots():this.roots)},e.prototype.getLastRoot=function(e){return void 0===e&&(e=!1),_u(e?this.getVisibleRoots():this.roots)},Object.defineProperty(e.prototype,"isFocused",{get:function(){return n.focusedTree===this},enumerable:!0,configurable:!0}),e.prototype.isNodeFocused=function(e){return this.focusedNode===e},e.prototype.isEmptyTree=function(){return this.roots&&0===this.roots.length},Object.defineProperty(e.prototype,"focusedNode",{get:function(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandedNodes",{get:function(){var e=this,t=Object.keys(this.expandedNodeIds).filter(function(t){return e.expandedNodeIds[t]}).map(function(t){return e.getNodeById(t)});return fg(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeNodes",{get:function(){var e=this,t=Object.keys(this.activeNodeIds).filter(function(t){return e.activeNodeIds[t]}).map(function(t){return e.getNodeById(t)});return fg(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenNodes",{get:function(){var e=this,t=Object.keys(this.hiddenNodeIds).filter(function(t){return e.hiddenNodeIds[t]}).map(function(t){return e.getNodeById(t)});return fg(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedLeafNodes",{get:function(){var e=this,t=Object.keys(this.selectedLeafNodeIds).filter(function(t){return e.selectedLeafNodeIds[t]}).map(function(t){return e.getNodeById(t)});return fg(t)},enumerable:!0,configurable:!0}),e.prototype.getNodeByPath=function(e,t){if(void 0===t&&(t=null),!e)return null;if(t=t||this.virtualRoot,0===e.length)return t;if(!t.children)return null;var n=e.shift(),o=$g(t.children,{id:n});return o?this.getNodeByPath(e,o):null},e.prototype.getNodeById=function(e){var t=e.toString();return this.getNodeBy(function(e){return e.id.toString()===t})},e.prototype.getNodeBy=function(e,t){if(void 0===t&&(t=null),t=t||this.virtualRoot,!t.children)return null;var n=$g(t.children,e);if(n)return n;for(var o=0,r=t.children;o<r.length;o++){var i=r[o],a=this.getNodeBy(e,i);if(a)return a}},e.prototype.isExpanded=function(e){return this.expandedNodeIds[e.id]},e.prototype.isHidden=function(e){return this.hiddenNodeIds[e.id]},e.prototype.isActive=function(e){return this.activeNodeIds[e.id]},e.prototype.isSelected=function(e){return this.selectedLeafNodeIds[e.id]},e.prototype.ngOnDestroy=function(){this.dispose(),this.unsubscribeAll()},e.prototype.dispose=function(){this.virtualRoot&&this.virtualRoot.dispose()},e.prototype.unsubscribeAll=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[]},e.prototype.setData=function(e){var t=e.nodes,n=e.options,o=void 0===n?null:n,r=e.events,i=void 0===r?null:r;o&&(this.options=new Cf(o)),i&&(this.events=i),t&&(this.nodes=t),this.update()},e.prototype.update=function(){var e,t=(e={id:this.options.rootId,virtual:!0},e[this.options.childrenField]=this.nodes,e);this.dispose(),this.virtualRoot=new ug(t,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:Rf.updateData})},e.prototype.setFocusedNode=function(e){this.focusedNodeId=e?e.id:null},e.prototype.setFocus=function(e){n.focusedTree=e?this:null},e.prototype.doForAll=function(e){this.roots.forEach(function(t){return t.doForAll(e)})},e.prototype.focusNextNode=function(){var e=this.getFocusedNode(),t=e?e.findNextNode(!0,!0):this.getFirstRoot(!0);t&&t.focus()},e.prototype.focusPreviousNode=function(){var e=this.getFocusedNode(),t=e?e.findPreviousNode(!0):this.getLastRoot(!0);t&&t.focus()},e.prototype.focusDrillDown=function(){var e=this.getFocusedNode();if(e&&e.isCollapsed&&e.hasChildren)e.toggleExpanded();else{var t=e?e.getFirstChild(!0):this.getFirstRoot(!0);t&&t.focus()}},e.prototype.focusDrillUp=function(){var e=this.getFocusedNode();if(e)if(e.isExpanded)e.toggleExpanded();else{var t=e.realParent;t&&t.focus()}},e.prototype.setActiveNode=function(e,t,n){void 0===n&&(n=!1),n?this._setActiveNodeMulti(e,t):this._setActiveNodeSingle(e,t),t?(e.focus(this.options.scrollOnActivate),this.fireEvent({eventName:Rf.activate,node:e}),this.fireEvent({eventName:Rf.nodeActivate,node:e})):(this.fireEvent({eventName:Rf.deactivate,node:e}),this.fireEvent({eventName:Rf.nodeDeactivate,node:e}))},e.prototype.setSelectedNode=function(e,t){var n;this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,(n={},n[e.id]=t,n)),t?(e.focus(),this.fireEvent({eventName:Rf.select,node:e})):this.fireEvent({eventName:Rf.deselect,node:e})},e.prototype.setExpandedNode=function(e,t){var n;this.expandedNodeIds=Object.assign({},this.expandedNodeIds,(n={},n[e.id]=t,n)),this.fireEvent({eventName:Rf.toggleExpanded,node:e,isExpanded:t})},e.prototype.expandAll=function(){this.roots.forEach(function(e){return e.expandAll()})},e.prototype.collapseAll=function(){this.roots.forEach(function(e){return e.collapseAll()})},e.prototype.setIsHidden=function(e,t){var n;this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,(n={},n[e.id]=t,n))},e.prototype.setHiddenNodeIds=function(e){this.hiddenNodeIds=e.reduce(function(e,t){var n;return Object.assign(e,(n={},n[t]=!0,n))},{})},e.prototype.performKeyAction=function(e,t){var n=this.options.actionMapping.keys[t.keyCode];return!!n&&(t.preventDefault(),n(this,e,t),!0)},e.prototype.filterNodes=function(e,t){var n=this;void 0===t&&(t=!0);var o;if(!e)return this.clearFilter();if(qg(e))o=function(t){return-1!==t.displayField.toLowerCase().indexOf(e.toLowerCase())};else{if(!ro(e))return console.error("Don't know what to do with filter",e),void console.error("Should be either a string or function");o=e}var r={};this.roots.forEach(function(e){return n._filterNode(r,e,o,t)}),this.hiddenNodeIds=r,this.fireEvent({eventName:Rf.changeFilter})},e.prototype.clearFilter=function(){this.hiddenNodeIds={},this.fireEvent({eventName:Rf.changeFilter})},e.prototype.moveNode=function(e,t){var n=e.getIndexInParent(),o=e.parent;if(this.canMoveNode(e,t,n)){var r=o.getField("children");t.parent.getField("children")||t.parent.setField("children",[]);var i=t.parent.getField("children"),a=r.splice(n,1)[0],s=o===t.parent&&t.index>n?t.index-1:t.index;i.splice(s,0,a),o.treeModel.update(),t.parent.treeModel!==o.treeModel&&t.parent.treeModel.update(),this.fireEvent({eventName:Rf.moveNode,node:a,to:{parent:t.parent.data,index:s},from:{parent:o.data,index:n}})}},e.prototype.copyNode=function(e,t){var n=e.getIndexInParent();if(this.canMoveNode(e,t,n)){t.parent.getField("children")||t.parent.setField("children",[]);var o=t.parent.getField("children"),r=this.options.getNodeClone(e);o.splice(t.index,0,r),e.treeModel.update(),t.parent.treeModel!==e.treeModel&&t.parent.treeModel.update(),this.fireEvent({eventName:Rf.copyNode,node:r,to:{parent:t.parent.data,index:t.index}})}},e.prototype.getState=function(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}},e.prototype.setState=function(e){e&&Object.assign(this,{expandedNodeIds:e.expandedNodeIds||{},selectedLeafNodeIds:e.selectedLeafNodeIds||{},activeNodeIds:e.activeNodeIds||{},hiddenNodeIds:e.hiddenNodeIds||{},focusedNodeId:e.focusedNodeId})},e.prototype.subscribeToState=function(e){var t=this;r.autorun(function(){return e(t.getState())})},e.prototype.canMoveNode=function(e,t,n){void 0===n&&(n=void 0);n||e.getIndexInParent();return(e.parent!==t.parent||n!==t.index)&&!t.parent.isDescendantOf(e)},e.prototype.calculateExpandedNodes=function(){this._calculateExpandedNodes()},e.prototype._filterNode=function(e,t,n,o){var r=this,i=n(t);return t.children&&t.children.forEach(function(t){r._filterNode(e,t,n,o)&&(i=!0)}),i||(e[t.id]=!0),o&&i&&t.ensureVisible(),i},e.prototype._calculateExpandedNodes=function(e){var t,n=this;void 0===e&&(e=null),e=e||this.virtualRoot,e.data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,(t={},t[e.id]=!0,t))),e.children&&e.children.forEach(function(e){return n._calculateExpandedNodes(e)})},e.prototype._setActiveNodeSingle=function(e,t){var n,o=this;this.activeNodes.filter(function(t){return t!==e}).forEach(function(e){o.fireEvent({eventName:Rf.deactivate,node:e}),o.fireEvent({eventName:Rf.nodeDeactivate,node:e})}),this.activeNodeIds=t?(n={},n[e.id]=!0,n):{}},e.prototype._setActiveNodeMulti=function(e,t){var n;this.activeNodeIds=Object.assign({},this.activeNodeIds,(n={},n[e.id]=t,n))};var n;return e.focusedTree=null,Yg([r.observable,Kg("design:type",Array)],e.prototype,"roots",void 0),Yg([r.observable,Kg("design:type",Object)],e.prototype,"expandedNodeIds",void 0),Yg([r.observable,Kg("design:type",Object)],e.prototype,"selectedLeafNodeIds",void 0),Yg([r.observable,Kg("design:type",Object)],e.prototype,"activeNodeIds",void 0),Yg([r.observable,Kg("design:type",Object)],e.prototype,"hiddenNodeIds",void 0),Yg([r.observable,Kg("design:type",Object)],e.prototype,"focusedNodeId",void 0),Yg([r.observable,Kg("design:type",ug)],e.prototype,"virtualRoot",void 0),Yg([r.computed,Kg("design:type",Object),Kg("design:paramtypes",[])],e.prototype,"focusedNode",null),Yg([r.computed,Kg("design:type",Object),Kg("design:paramtypes",[])],e.prototype,"expandedNodes",null),Yg([r.computed,Kg("design:type",Object),Kg("design:paramtypes",[])],e.prototype,"activeNodes",null),Yg([r.computed,Kg("design:type",Object),Kg("design:paramtypes",[])],e.prototype,"hiddenNodes",null),Yg([r.computed,Kg("design:type",Object),Kg("design:paramtypes",[])],e.prototype,"selectedLeafNodes",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object]),Kg("design:returntype",void 0)],e.prototype,"setData",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"update",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object]),Kg("design:returntype",void 0)],e.prototype,"setFocusedNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object]),Kg("design:returntype",void 0)],e.prototype,"setFocus",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object]),Kg("design:returntype",void 0)],e.prototype,"doForAll",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"focusNextNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"focusPreviousNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"focusDrillDown",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"focusDrillUp",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object,Object]),Kg("design:returntype",void 0)],e.prototype,"setActiveNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object]),Kg("design:returntype",void 0)],e.prototype,"setSelectedNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object]),Kg("design:returntype",void 0)],e.prototype,"setExpandedNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"expandAll",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"collapseAll",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object]),Kg("design:returntype",void 0)],e.prototype,"setIsHidden",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object]),Kg("design:returntype",void 0)],e.prototype,"setHiddenNodeIds",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object]),Kg("design:returntype",void 0)],e.prototype,"filterNodes",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[]),Kg("design:returntype",void 0)],e.prototype,"clearFilter",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object]),Kg("design:returntype",void 0)],e.prototype,"moveNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object,Object]),Kg("design:returntype",void 0)],e.prototype,"copyNode",null),Yg([r.action,Kg("design:type",Function),Kg("design:paramtypes",[Object]),Kg("design:returntype",void 0)],e.prototype,"setState",null),e=n=Yg([t.Injectable()],e)}(),Zg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jg=function(){function e(){this._draggedElement=null}return e.prototype.set=function(e){this._draggedElement=e},e.prototype.get=function(){return this._draggedElement},e.prototype.isDragging=function(){return!!this.get()},e=Zg([t.Injectable()],e)}(),Qg=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ev=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tv=function(){function e(e){var t=this;this.treeModel=e,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,e.virtualScroll=this,this._dispose=[r.autorun(function(){return t.fixScroll()})]}return Object.defineProperty(e.prototype,"y",{get:function(){return 150*this.yBlocks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalHeight",{get:function(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0},enumerable:!0,configurable:!0}),e.prototype.fireEvent=function(e){this.treeModel.fireEvent(e)},e.prototype.init=function(){var e=this,t=this.recalcPositions.bind(this);t(),this._dispose=this._dispose.concat([r.reaction(function(){return e.treeModel.roots},t),r.reaction(function(){return e.treeModel.expandedNodeIds},t),r.reaction(function(){return e.treeModel.hiddenNodeIds},t)]),this.treeModel.subscribe(Rf.loadNodeChildren,t)},e.prototype.isEnabled=function(){return this.treeModel.options.useVirtualScroll},e.prototype._setYBlocks=function(e){this.yBlocks=e},e.prototype.recalcPositions=function(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)},e.prototype._getPositionAfter=function(e,t){var n=this,o=t;return e.forEach(function(e){e.position=o,o=n._getPositionAfterNode(e,o)}),o},e.prototype._getPositionAfterNode=function(e,t){var n=e.getSelfHeight()+t;return e.children&&e.isExpanded&&(n=this._getPositionAfter(e.visibleChildren,n)),e.height=n-t,n},e.prototype.clear=function(){this._dispose.forEach(function(e){return e()})},e.prototype.setViewport=function(e){Object.assign(this,{viewport:e,x:e.scrollLeft,yBlocks:Math.round(e.scrollTop/150),viewportHeight:e.getBoundingClientRect?e.getBoundingClientRect().height:0})},e.prototype.scrollIntoView=function(e,t,n){if(void 0===n&&(n=!0),e.options.scrollContainer){var o=e.options.scrollContainer,r=o.getBoundingClientRect().height,i=o.getBoundingClientRect().top,a=this.viewport.getBoundingClientRect().top+e.position-i;(t||a<o.scrollTop||a+e.getSelfHeight()>o.scrollTop+r)&&(o.scrollTop=n?a-r/2:a)
}else(t||e.position<this.y||e.position+e.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=n?e.position-this.viewportHeight/2:e.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/150)))},e.prototype.getViewportNodes=function(e){var t=this;if(!e)return[];var n=e.filter(function(e){return!e.isHidden});if(!this.isEnabled())return n;if(!this.viewportHeight||!n.length)return[];var o=an(n,function(e){return e.position+500>t.y||e.position+e.height>t.y}),r=an(n,function(e){return e.position-500>t.y+t.viewportHeight},o),i=[],a=n[0].treeModel.options.options.nodeHeight;if(r-o>(1e3+this.viewportHeight)/a)return[];for(var s=o;s<=r;s++)i.push(n[s]);return i},e.prototype.fixScroll=function(){var e=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>e&&this._setYBlocks(e/150)},Qg([r.observable,ev("design:type",Object)],e.prototype,"yBlocks",void 0),Qg([r.observable,ev("design:type",Object)],e.prototype,"x",void 0),Qg([r.observable,ev("design:type",Object)],e.prototype,"viewportHeight",void 0),Qg([r.computed,ev("design:type",Object),ev("design:paramtypes",[])],e.prototype,"y",null),Qg([r.computed,ev("design:type",Object),ev("design:paramtypes",[])],e.prototype,"totalHeight",null),Qg([r.action,ev("design:type",Function),ev("design:paramtypes",[Object]),ev("design:returntype",void 0)],e.prototype,"_setYBlocks",null),Qg([r.action,ev("design:type",Function),ev("design:paramtypes",[]),ev("design:returntype",void 0)],e.prototype,"recalcPositions",null),Qg([r.action,ev("design:type",Function),ev("design:paramtypes",[Object]),ev("design:returntype",void 0)],e.prototype,"setViewport",null),Qg([r.action,ev("design:type",Function),ev("design:paramtypes",[Object,Object,Object]),ev("design:returntype",void 0)],e.prototype,"scrollIntoView",null),e=Qg([t.Injectable(),ev("design:paramtypes",[Xg])],e)}(),nv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ov=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rv=function(){function e(){}return nv([t.Input(),ov("design:type",t.TemplateRef)],e.prototype,"template",void 0),nv([t.Input(),ov("design:type",ug)],e.prototype,"node",void 0),e=nv([t.Component({encapsulation:t.ViewEncapsulation.None,selector:"tree-loading-component",template:'\n    <span *ngIf="!template">loading...</span>\n    <ng-container\n      [ngTemplateOutlet]="template"\n      [ngTemplateOutletContext]="{ $implicit: node }">\n    </ng-container>\n  '})],e)}(),iv=Rn,av=function(){return iv.Date.now()},sv=av,cv=Zn,dv=sv,pv=xg,lv="Expected a function",uv=Math.max,fv=Math.min,hv=sn,yv=hv,gv=Zn,vv="Expected a function",bv=cn,mv=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},jv=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ov=function(){function e(e,t){var n=this;this.elementRef=e,this.virtualScroll=t,this.setViewport=bv(function(){n.virtualScroll.setViewport(n.elementRef.nativeElement)},17)}return e.prototype.ngOnInit=function(){this.virtualScroll.init()},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.setViewport(),e.virtualScroll.fireEvent({eventName:Rf.initialized})})},e.prototype.ngOnDestroy=function(){this.virtualScroll.clear()},e.prototype.getTotalHeight=function(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"},e.prototype.onScroll=function(e){this.setViewport()},mv([t.HostListener("scroll",["$event"]),jv("design:type",Function),jv("design:paramtypes",[Event]),jv("design:returntype",void 0)],e.prototype,"onScroll",null),e=mv([t.Component({selector:"tree-viewport",styles:[],providers:[tv],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div [style.height]="getTotalHeight()">\n        <ng-content></ng-content>\n      </div>\n    </ng-container>\n  '}),jv("design:paramtypes",[t.ElementRef,tv])],e)}(),Nv=dn,Ev=pn,wv=bg,_v=Nv,Dv=Ev,xv=ln,Iv=qc,Av=un,Cv=Av,Rv=Ad,Pv=fn,Sv=xv,Fv=_a,Tv=qg,Mv=Sg,Lv=Pv,kv=Math.max,Vv=hn,Hv=is,Bv=cd,$v=us,zv=Zn,Uv=ld,Gv=yn,Wv=hd,qv=Gv,Yv=cd,Kv=gn,Xv=Kv,Zv=fy,Jv=vn,Qv=Jv,eb=Xu,tb=eb(function(e,t){return null==e?{}:Qv(e,t)}),nb=tb,ob=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},rb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ib=function(){function e(e,n){var o=this;this.treeModel=e,this.treeDraggedElement=n,e.eventNames.forEach(function(e){return o[e]=new t.EventEmitter}),e.subscribeToState(function(e){return o.stateChange.emit(e)})}return Object.defineProperty(e.prototype,"nodes",{set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{set:function(e){this.treeModel.setFocus(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{set:function(e){this.treeModel.setState(e)},enumerable:!0,configurable:!0}),e.prototype.onKeydown=function(e){if(this.treeModel.isFocused&&!Vv(["input","textarea"],document.activeElement.tagName.toLowerCase())){var t=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(t,e)}},e.prototype.onMousedown=function(e){function t(e,n){return!e||e.localName!==n&&t(e.parentElement,n)}t(e.target,"tree-root")&&this.treeModel.setFocus(!1)},e.prototype.ngOnChanges=function(e){(e.options||e.nodes)&&this.treeModel.setData({options:e.options&&e.options.currentValue,nodes:e.nodes&&e.nodes.currentValue,events:nb(this,this.treeModel.eventNames)})},e.prototype.sizeChanged=function(){this.viewportComponent.setViewport()},ob([t.ContentChild("loadingTemplate",{static:!1}),rb("design:type",t.TemplateRef)],e.prototype,"loadingTemplate",void 0),ob([t.ContentChild("treeNodeTemplate",{static:!1}),rb("design:type",t.TemplateRef)],e.prototype,"treeNodeTemplate",void 0),ob([t.ContentChild("treeNodeWrapperTemplate",{static:!1}),rb("design:type",t.TemplateRef)],e.prototype,"treeNodeWrapperTemplate",void 0),ob([t.ContentChild("treeNodeFullTemplate",{static:!1}),rb("design:type",t.TemplateRef)],e.prototype,"treeNodeFullTemplate",void 0),ob([t.ViewChild("viewport",{static:!1}),rb("design:type",Ov)],e.prototype,"viewportComponent",void 0),ob([t.Input(),rb("design:type",Array),rb("design:paramtypes",[Array])],e.prototype,"nodes",null),ob([t.Input(),rb("design:type",Cf),rb("design:paramtypes",[Cf])],e.prototype,"options",null),ob([t.Input(),rb("design:type",Boolean),rb("design:paramtypes",[Boolean])],e.prototype,"focused",null),ob([t.Input(),rb("design:type",Object),rb("design:paramtypes",[Object])],e.prototype,"state",null),ob([t.Output(),rb("design:type",Object)],e.prototype,"toggleExpanded",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"activate",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"deactivate",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"nodeActivate",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"nodeDeactivate",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"select",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"deselect",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"focus",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"blur",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"updateData",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"initialized",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"moveNode",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"copyNode",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"loadNodeChildren",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"changeFilter",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"event",void 0),ob([t.Output(),rb("design:type",Object)],e.prototype,"stateChange",void 0),ob([t.HostListener("body: keydown",["$event"]),rb("design:type",Function),rb("design:paramtypes",[Object]),rb("design:returntype",void 0)],e.prototype,"onKeydown",null),ob([t.HostListener("body: mousedown",["$event"]),rb("design:type",Function),rb("design:paramtypes",[Object]),rb("design:returntype",void 0)],e.prototype,"onMousedown",null),e=ob([t.Component({selector:"Tree, tree-root",providers:[Xg],styles:[],template:'\n      <tree-viewport #viewport>\n          <div\n                  class="angular-tree-component"\n                  [class.node-dragging]="treeDraggedElement.isDragging()"\n                  [class.angular-tree-component-rtl]="treeModel.options.rtl">\n              <tree-node-collection\n                      *ngIf="treeModel.roots"\n                      [nodes]="treeModel.roots"\n                      [treeModel]="treeModel"\n                      [templates]="{\n            loadingTemplate: loadingTemplate,\n            treeNodeTemplate: treeNodeTemplate,\n            treeNodeWrapperTemplate: treeNodeWrapperTemplate,\n            treeNodeFullTemplate: treeNodeFullTemplate\n          }">\n              </tree-node-collection>\n              <tree-node-drop-slot\n                      class="empty-tree-drop-slot"\n                      *ngIf="treeModel.isEmptyTree()"\n                      [dropIndex]="0"\n                      [node]="treeModel.virtualRoot">\n              </tree-node-drop-slot>\n          </div>\n      </tree-viewport>\n  '}),rb("design:paramtypes",[Xg,Jg])],e)}(),ab=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},sb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cb=function(){function e(){}return ab([t.Input(),sb("design:type",ug)],e.prototype,"node",void 0),ab([t.Input(),sb("design:type",Number)],e.prototype,"index",void 0),ab([t.Input(),sb("design:type",Object)],e.prototype,"templates",void 0),e=ab([t.Component({selector:"TreeNode, tree-node",encapsulation:t.ViewEncapsulation.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div\n        *ngIf="!templates.treeNodeFullTemplate"\n        [class]="node.getClass()"\n        [class.tree-node]="true"\n        [class.tree-node-expanded]="node.isExpanded && node.hasChildren"\n        [class.tree-node-collapsed]="node.isCollapsed && node.hasChildren"\n        [class.tree-node-leaf]="node.isLeaf"\n        [class.tree-node-active]="node.isActive"\n        [class.tree-node-focused]="node.isFocused"\n        >\n\n        <tree-node-drop-slot *ngIf="index === 0" [dropIndex]="node.index" [node]="node.parent"></tree-node-drop-slot>\n\n        <tree-node-wrapper [node]="node" [index]="index" [templates]="templates"></tree-node-wrapper>\n\n        <tree-node-children [node]="node" [templates]="templates"></tree-node-children>\n        <tree-node-drop-slot [dropIndex]="node.index + 1" [node]="node.parent"></tree-node-drop-slot>\n      </div>\n      <ng-container\n        [ngTemplateOutlet]="templates.treeNodeFullTemplate"\n        [ngTemplateOutletContext]="{ $implicit: node, node: node, index: index, templates: templates }">\n      </ng-container>\n    </ng-container>'})],e)}(),db=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lb=function(){function e(){}return db([t.Input(),pb("design:type",ug)],e.prototype,"node",void 0),db([t.Input(),pb("design:type",Number)],e.prototype,"index",void 0),db([t.Input(),pb("design:type",t.TemplateRef)],e.prototype,"template",void 0),e=db([t.Component({selector:"tree-node-content",encapsulation:t.ViewEncapsulation.None,template:'\n  <span *ngIf="!template">{{ node.displayField }}</span>\n  <ng-container\n    [ngTemplateOutlet]="template"\n    [ngTemplateOutletContext]="{ $implicit: node, node: node, index: index }">\n  </ng-container>'})],e)}(),ub=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hb=function(){function e(){}return e.prototype.onDrop=function(e){this.node.mouseAction("drop",e.event,{from:e.element,to:{parent:this.node,index:this.dropIndex}})},e.prototype.allowDrop=function(e,t){return this.node.options.allowDrop(e,{parent:this.node,index:this.dropIndex},t)},ub([t.Input(),fb("design:type",ug)],e.prototype,"node",void 0),ub([t.Input(),fb("design:type",Number)],e.prototype,"dropIndex",void 0),e=ub([t.Component({selector:"TreeNodeDropSlot, tree-node-drop-slot",encapsulation:t.ViewEncapsulation.None,styles:[],template:'\n    <div\n      class="node-drop-slot"\n      (treeDrop)="onDrop($event)"\n      [treeAllowDrop]="allowDrop.bind(this)"\n      [allowDragoverStyling]="true">\n    </div>\n  '})],e)}(),yb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vb=function(){function e(){}return yb([t.Input(),gb("design:type",ug)],e.prototype,"node",void 0),e=yb([t.Component({selector:"tree-node-expander",encapsulation:t.ViewEncapsulation.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <span\n        *ngIf="node.hasChildren"\n        [class.toggle-children-wrapper-expanded]="node.isExpanded"\n        [class.toggle-children-wrapper-collapsed]="node.isCollapsed"\n        class="toggle-children-wrapper"\n        (click)="node.mouseAction(\'expanderClick\', $event)">\n\n        <span class="toggle-children"></span>\n      </span>\n      <span\n        *ngIf="!node.hasChildren"\n        class="toggle-children-placeholder">\n      </span>\n    </ng-container>\n  '})],e)}(),bb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},mb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jb=function(){function e(){}return bb([t.Input(),mb("design:type",ug)],e.prototype,"node",void 0),bb([t.Input(),mb("design:type",Object)],e.prototype,"templates",void 0),e=bb([t.Component({selector:"tree-node-children",encapsulation:t.ViewEncapsulation.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div [class.tree-children]="true"\n          [class.tree-children-no-padding]="node.options.levelPadding"\n          *treeAnimateOpen="\n            node.isExpanded;\n            speed:node.options.animateSpeed;\n            acceleration:node.options.animateAcceleration;\n            enabled:node.options.animateExpand">\n        <tree-node-collection\n          *ngIf="node.children"\n          [nodes]="node.children"\n          [templates]="templates"\n          [treeModel]="node.treeModel">\n        </tree-node-collection>\n        <tree-loading-component\n          [style.padding-left]="node.getNodePadding()"\n          class="tree-node-loading"\n          *ngIf="!node.children"\n          [template]="templates.loadingTemplate"\n          [node]="node"\n        ></tree-loading-component>\n      </div>\n    </ng-container>\n  '})],e)}(),Ob=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Nb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Eb=function(){function e(){this._dispose=[]}return Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodes},set:function(e){this.setNodes(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginTop",{get:function(){var e=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(e&&e.parent?e.position-e.parent.position-e.parent.getSelfHeight():0)+"px"},enumerable:!0,configurable:!0}),e.prototype.setNodes=function(e){this._nodes=e},e.prototype.ngOnInit=function(){var e=this;this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[r.reaction(function(){return e.virtualScroll.getViewportNodes(e.nodes).map(function(e){return e.index})},function(t){e.viewportNodes=t.map(function(t){return e.nodes[t]})},{compareStructural:!0,fireImmediately:!0}),r.reaction(function(){return e.nodes},function(t){e.viewportNodes=e.virtualScroll.getViewportNodes(t)})]},e.prototype.ngOnDestroy=function(){this._dispose.forEach(function(e){return e()})},e.prototype.trackNode=function(e,t){return t.id},Ob([t.Input(),Nb("design:type",Object),Nb("design:paramtypes",[Object])],e.prototype,"nodes",null),Ob([t.Input(),Nb("design:type",Xg)],e.prototype,"treeModel",void 0),Ob([o.observable,Nb("design:type",Object)],e.prototype,"_nodes",void 0),Ob([t.Input(),Nb("design:type",Object)],e.prototype,"templates",void 0),Ob([o.observable,Nb("design:type",Array)],e.prototype,"viewportNodes",void 0),Ob([o.computed,Nb("design:type",String),Nb("design:paramtypes",[])],e.prototype,"marginTop",null),Ob([o.action,Nb("design:type",Function),Nb("design:paramtypes",[Object]),Nb("design:returntype",void 0)],e.prototype,"setNodes",null),e=Ob([t.Component({selector:"tree-node-collection",encapsulation:t.ViewEncapsulation.None,template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <div\n        [style.margin-top]="marginTop">\n        <tree-node\n          *ngFor="let node of viewportNodes; let i = index; trackBy: trackNode"\n          [node]="node"\n          [index]="i"\n          [templates]="templates">\n        </tree-node>\n      </div>\n    </ng-container>\n  '})],e)}(),wb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_b=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Db=function(){function e(){}return wb([t.Input(),_b("design:type",ug)],e.prototype,"node",void 0),wb([t.Input(),_b("design:type",Number)],e.prototype,"index",void 0),wb([t.Input(),_b("design:type",Object)],e.prototype,"templates",void 0),e=wb([t.Component({selector:"tree-node-wrapper",encapsulation:t.ViewEncapsulation.None,styles:[],template:'\n      <div *ngIf="!templates.treeNodeWrapperTemplate" class="node-wrapper" [style.padding-left]="node.getNodePadding()">\n          <tree-node-checkbox *ngIf="node.options.useCheckbox" [node]="node"></tree-node-checkbox>\n          <tree-node-expander [node]="node"></tree-node-expander>\n          <div class="node-content-wrapper"\n               [class.node-content-wrapper-active]="node.isActive"\n               [class.node-content-wrapper-focused]="node.isFocused"\n               (click)="node.mouseAction(\'click\', $event)"\n               (dblclick)="node.mouseAction(\'dblClick\', $event)"\n               (mouseover)="node.mouseAction(\'mouseOver\', $event)"\n               (mouseout)="node.mouseAction(\'mouseOut\', $event)"\n               (contextmenu)="node.mouseAction(\'contextMenu\', $event)"\n               (treeDrop)="node.onDrop($event)"\n               (treeDropDragOver)="node.mouseAction(\'dragOver\', $event)"\n               (treeDropDragLeave)="node.mouseAction(\'dragLeave\', $event)"\n               (treeDropDragEnter)="node.mouseAction(\'dragEnter\', $event)"\n               [treeAllowDrop]="node.allowDrop"\n               [allowDragoverStyling]="node.allowDragoverStyling()"\n               [treeDrag]="node"\n               [treeDragEnabled]="node.allowDrag()">\n\n              <tree-node-content [node]="node" [index]="index" [template]="templates.treeNodeTemplate">\n              </tree-node-content>\n          </div>\n      </div>\n      <ng-container\n              [ngTemplateOutlet]="templates.treeNodeWrapperTemplate"\n              [ngTemplateOutletContext]="{ $implicit: node, node: node, index: index, templates: templates }">\n      </ng-container>\n  '}),_b("design:paramtypes",[])],e)}(),xb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ib=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ab=function(){function e(){}return xb([t.Input(),Ib("design:type",ug)],e.prototype,"node",void 0),e=xb([t.Component({selector:"tree-node-checkbox",encapsulation:t.ViewEncapsulation.None,styles:[],template:'\n    <ng-container *mobxAutorun="{dontDetach: true}">\n      <input\n        class="tree-node-checkbox"\n        type="checkbox"\n        (click)="node.mouseAction(\'checkboxClick\', $event)"\n        [checked]="node.isSelected"\n        [indeterminate]="node.isPartiallySelected"/>\n    </ng-container>\n  '})],e)}(),Cb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Rb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pb=function(){function e(e,n,o,r){this.el=e,this.renderer=n,this.treeDraggedElement=o,this.ngZone=r,this.allowDragoverStyling=!0,this.onDropCallback=new t.EventEmitter,this.onDragOverCallback=new t.EventEmitter,this.onDragLeaveCallback=new t.EventEmitter,this.onDragEnterCallback=new t.EventEmitter,this._allowDrop=function(e,t){return!0},this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}return Object.defineProperty(e.prototype,"treeAllowDrop",{set:function(e){e instanceof Function?this._allowDrop=e:this._allowDrop=function(t,n){return e}},enumerable:!0,configurable:!0}),e.prototype.allowDrop=function(e){return this._allowDrop(this.treeDraggedElement.get(),e)},e.prototype.ngAfterViewInit=function(){var e=this,t=this.el.nativeElement;this.ngZone.runOutsideAngular(function(){t.addEventListener("dragover",e.dragOverEventHandler),t.addEventListener("dragenter",e.dragEnterEventHandler),t.addEventListener("dragleave",e.dragLeaveEventHandler)})},e.prototype.ngOnDestroy=function(){var e=this.el.nativeElement;e.removeEventListener("dragover",this.dragOverEventHandler),e.removeEventListener("dragenter",this.dragEnterEventHandler),e.removeEventListener("dragleave",this.dragLeaveEventHandler)},e.prototype.onDragOver=function(e){if(this.allowDrop(e))this.onDragOverCallback.emit({event:e,element:this.treeDraggedElement.get()}),e.preventDefault(),this.allowDragoverStyling&&this.addClass();else if(this.allowDragoverStyling)return this.addDisabledClass()},e.prototype.onDragEnter=function(e){this.allowDrop(e)&&this.onDragEnterCallback.emit({event:e,element:this.treeDraggedElement.get()})},e.prototype.onDragLeave=function(e){if(this.allowDrop(e))this.onDragLeaveCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass();else if(this.allowDragoverStyling)return this.removeDisabledClass()},e.prototype.onDrop=function(e){this.allowDrop(e)&&(e.preventDefault(),this.onDropCallback.emit({event:e,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))},e.prototype.addClass=function(){this.renderer.addClass(this.el.nativeElement,"is-dragging-over")},e.prototype.removeClass=function(){this.renderer.removeClass(this.el.nativeElement,"is-dragging-over")},e.prototype.addDisabledClass=function(){this.renderer.addClass(this.el.nativeElement,"is-dragging-over-disabled")},e.prototype.removeDisabledClass=function(){this.renderer.removeClass(this.el.nativeElement,"is-dragging-over-disabled")},Cb([t.Input(),Rb("design:type",Object)],e.prototype,"allowDragoverStyling",void 0),Cb([t.Output("treeDrop"),Rb("design:type",Object)],e.prototype,"onDropCallback",void 0),Cb([t.Output("treeDropDragOver"),Rb("design:type",Object)],e.prototype,"onDragOverCallback",void 0),Cb([t.Output("treeDropDragLeave"),Rb("design:type",Object)],e.prototype,"onDragLeaveCallback",void 0),Cb([t.Output("treeDropDragEnter"),Rb("design:type",Object)],e.prototype,"onDragEnterCallback",void 0),Cb([t.Input(),Rb("design:type",Object),Rb("design:paramtypes",[Object])],e.prototype,"treeAllowDrop",null),Cb([t.HostListener("drop",["$event"]),Rb("design:type",Function),Rb("design:paramtypes",[Object]),Rb("design:returntype",void 0)],e.prototype,"onDrop",null),e=Cb([t.Directive({selector:"[treeDrop]"}),Rb("design:paramtypes",[t.ElementRef,t.Renderer2,Jg,t.NgZone])],e)}(),Sb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tb=function(){function e(e,t,n,o){this.el=e,this.renderer=t,this.treeDraggedElement=n,this.ngZone=o,this.dragEventHandler=this.onDrag.bind(this)}return e.prototype.ngAfterViewInit=function(){var e=this,t=this.el.nativeElement;this.ngZone.runOutsideAngular(function(){t.addEventListener("drag",e.dragEventHandler)})},e.prototype.ngDoCheck=function(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")},e.prototype.ngOnDestroy=function(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)},e.prototype.onDragStart=function(e){e.dataTransfer.setData("text",e.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",e)},e.prototype.onDrag=function(e){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",e)},e.prototype.onDragEnd=function(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)},Sb([t.Input("treeDrag"),Fb("design:type",Object)],e.prototype,"draggedElement",void 0),Sb([t.Input(),Fb("design:type",Object)],e.prototype,"treeDragEnabled",void 0),Sb([t.HostListener("dragstart",["$event"]),Fb("design:type",Function),Fb("design:paramtypes",[Object]),Fb("design:returntype",void 0)],e.prototype,"onDragStart",null),Sb([t.HostListener("dragend"),Fb("design:type",Function),Fb("design:paramtypes",[]),Fb("design:returntype",void 0)],e.prototype,"onDragEnd",null),e=Sb([t.Directive({selector:"[treeDrag]"}),Fb("design:paramtypes",[t.ElementRef,t.Renderer2,Jg,t.NgZone])],e)}(),Mb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Lb=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kb=function(){function e(e,t,n){this.renderer=e,this.templateRef=t,this.viewContainerRef=n}return Object.defineProperty(e.prototype,"isOpen",{set:function(e){e?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!e},enumerable:!0,configurable:!0}),e.prototype._show=function(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])},e.prototype._hide=function(){this.viewContainerRef.clear(),this.innerElement=null},e.prototype._animateOpen=function(){var e=this,t=this.animateSpeed,n=this.animateAcceleration,o=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout(function(){var r=setInterval(function(){if(!e._isOpen||!e.innerElement)return clearInterval(r);o+=t;var i=Math.round(o);e.renderer.setStyle(e.innerElement,"max-height",i+"px");var a=e.innerElement.getBoundingClientRect?e.innerElement.getBoundingClientRect().height:0;t*=n,n*=1.005,a<i&&(e.renderer.setStyle(e.innerElement,"max-height",null),clearInterval(r))},17)})},e.prototype._animateClose=function(){var e=this;if(this.innerElement)var t=this.animateSpeed,n=this.animateAcceleration,o=this.innerElement.getBoundingClientRect().height,r=setInterval(function(){if(e._isOpen||!e.innerElement)return clearInterval(r);o-=t,e.renderer.setStyle(e.innerElement,"max-height",o+"px"),t*=n,n*=1.005,o<=0&&(e.viewContainerRef.clear(),e.innerElement=null,clearInterval(r))},17)},Mb([t.Input("treeAnimateOpenSpeed"),Lb("design:type",Number)],e.prototype,"animateSpeed",void 0),Mb([t.Input("treeAnimateOpenAcceleration"),Lb("design:type",Number)],e.prototype,"animateAcceleration",void 0),Mb([t.Input("treeAnimateOpenEnabled"),Lb("design:type",Boolean)],e.prototype,"isEnabled",void 0),Mb([t.Input("treeAnimateOpen"),Lb("design:type",Boolean),Lb("design:paramtypes",[Boolean])],e.prototype,"isOpen",null),e=Mb([t.Directive({selector:"[treeAnimateOpen]"}),Lb("design:paramtypes",[t.Renderer2,t.TemplateRef,t.ViewContainerRef])],e)}();"undefined"!=typeof Element&&("function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){
for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),o=0;n[o]&&n[o]!==t;)++o;return Boolean(n[o])}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}));var Vb=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Hb=function(){function e(){}r=e,e.forRoot=function(){return{ngModule:r,providers:[Jg]}};var r;return e=r=Vb([t.NgModule({declarations:[ib,cb,lb,rv,Pb,Tb,vb,jb,hb,Eb,Ov,Db,Ab,kb],exports:[ib,cb,lb,rv,Pb,Tb,vb,jb,hb,Eb,Ov,Db,Ab,kb],imports:[n.CommonModule,o.MobxAngularModule],providers:[]})],e)}();e.TreeModule=Hb,e.TreeModel=Xg,e.TreeNode=ug,e.TreeDraggedElement=Jg,e.TreeVirtualScroll=tv,e.TREE_ACTIONS=If,e.KEYS=bn,e.LoadingComponent=rv,e.TreeAnimateOpenDirective=kb,e.TreeComponent=ib,e.TreeNodeComponent=cb,e.TreeNodeWrapperComponent=Db,e.TreeNodeContent=lb,e.TreeDropDirective=Pb,e.TreeDragDirective=Tb,e.TreeNodeExpanderComponent=vb,e.TreeNodeChildrenComponent=jb,e.TreeNodeDropSlot=hb,e.TreeNodeCollectionComponent=Eb,e.TreeViewportComponent=Ov,e.TreeNodeCheckboxComponent=Ab,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-tree-component.umd.js.map
